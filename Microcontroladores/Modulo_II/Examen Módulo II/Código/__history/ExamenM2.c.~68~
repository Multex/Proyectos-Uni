#include <16f877a.h>
#fuses xt
#use delay(clock = 4M)
#byte trisb = 0x86
#byte trisc = 0x87
#byte portb = 0x06
#byte portc = 0x07
#bit P1 = portc.0
#bit P2 = portc.1
#bit UNI = portc.2
#bit DEC = portc.3

void main() {
   trisb = 0b00000000;
   trisc = 0b00000011;
   
   int datos[10] = {0b11000000, 0b11111001, 0b10100100, 0b10110000, 0b10011001,
                    0b10010010, 0b10000010, 0b11111000, 0b10000000, 0b10010000};
   int contador = 0;
   
   portb = 0b00000000;
   portc = 0b00000000;
   
   while(true) {
      if(P1 == 0) {
         UNI = 1;
         portb = datos[contador];
         contador++;
         while(P1 == 0) { }
         if(contador == 10) {contador = 0;}
      }
   }
}
